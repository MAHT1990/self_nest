# π€ νμ΄ν”„ κµ¬ν„ κ°€μ΄λ“

## π” 1. ν•µμ‹¬ κµ¬ν„ ν¬μΈνΈ

`PipeTransform` μΈν„°νμ΄μ¤: λ¨λ“  νμ΄ν”„μ κΈ°λ³Έ κµ¬ν„μ²΄
- μ…λ ¥κ°’μ„ μ›ν•λ” ν•νƒλ΅ λ³€ν™ν•κ±°λ‚ μ ν¨μ„±μ„ κ²€μ‚¬ν•λ” λ©”μ„λ“ μ κ³µ
- `transform()` λ©”μ„λ“λ¥Ό ν†µν•΄ νλΌλ―Έν„° μ²λ¦¬ λ΅μ§ κµ¬ν„

`Param` λ°μ½”λ μ΄ν„°: λ§¤κ°λ³€μ μ •λ³΄ μ¶”μ¶
- HTTP μ”μ²­μ—μ„ νΉμ • νλΌλ―Έν„° μ¶”μ¶ (@Param, @Query)
- λ©”νƒ€λ°μ΄ν„°λ¥Ό ν†µν•΄ νλΌλ―Έν„° μ •λ³΄ μ €μ¥

`UsePipes` λ°μ½”λ μ΄ν„°: λ³€ν™ λ΅μ§ μ μ©
- μ»¨νΈλ΅¤λ¬λ‚ ν•Έλ“¤λ¬μ— νμ΄ν”„ μ μ©
- μ—¬λ¬ νμ΄ν”„λ¥Ό μ²΄μΈμΌλ΅ κµ¬μ„± κ°€λ¥

λΌμ°ν… μ²λ¦¬: 
- μ»¨νΈλ΅¤λ¬ λ©”μ„λ“ μ‹¤ν–‰ μ „ νμ΄ν”„ μλ™ μ μ©
- μ”μ²­-νμ΄ν”„-μ»¨νΈλ΅¤λ¬ νμ΄ν”„λΌμΈ κµ¬μ„±

## π—οΈ 2. ν•µμ‹¬ μ»΄ν¬λ„νΈ

### π”„ μΈν„°νμ΄μ¤ κ³„μΈµ

- **PipeTransform**: transform λ©”μ„λ“ μ •μ
  - `transform(value: any, metadata: ArgumentMetadata)`
- **ArgumentMetadata**: νλΌλ―Έν„° λ©”νƒ€λ°μ΄ν„° κµ¬μ΅°
  - `{ type, metatype, data }`

### π§© λ°μ½”λ μ΄ν„° κ³„μΈµ

- **νλΌλ―Έν„° λ°μ½”λ μ΄ν„°**: λ©”νƒ€λ°μ΄ν„° λ“±λ΅
  - μ”μ²­ λ°μ΄ν„° μ„μΉμ™€ νƒ€μ… μ§€μ •
- **νμ΄ν”„ μ μ© λ°μ½”λ μ΄ν„°**: λ³€ν™ λ΅μ§ μ—°κ²°
  - λ‹¨μΌ/λ‹¤μ¤‘ νμ΄ν”„ μ μ© μ§€μ›

### β™οΈ νμ΄ν”„ κµ¬ν„μ²΄

- **ParseIntPipe**: λ¬Έμμ—΄μ„ μ •μλ΅ λ³€ν™
  - μ«μκ°€ μ•„λ‹ μ…λ ¥ κ²€μ¦ λ° λ³€ν™
- **ValidationPipe**: κ°μ²΄ μ ν¨μ„± κ²€μ‚¬
  - DTO μ¤ν‚¤λ§ κΈ°λ° λ°μ΄ν„° κ²€μ¦

### π›£οΈ λΌμ°ν… μ‹μ¤ν…

- **λ©”νƒ€λ°μ΄ν„° κΈ°λ° λΌμ°νΈ μ¶”μ¶**
  - λ°μ½”λ μ΄ν„°λ΅ λ“±λ΅λ μ •λ³΄ ν™μ©
- **νμ΄ν”„ μ μ© λ° λ§¤κ°λ³€μ λ³€ν™**
  - μ»¨νΈλ΅¤λ¬ λ©”μ„λ“ νΈμ¶ μ „ νμ΄ν”„ μ‹¤ν–‰

## π”„ 3. λ™μ‘ ν”„λ΅μ„Έμ¤

1. **μ”μ²­ μμ‹ ** β†’ **λΌμ°νΈ λ§¤ν•‘** β†’ **λ§¤κ°λ³€μ μ¶”μ¶**
2. **νμ΄ν”„ κ²€μƒ‰** β†’ **λ³€ν™ λ΅μ§ μ μ©** β†’ **μ ν¨μ„± κ²€μ‚¬**
3. **λ³€ν™λ κ°’μΌλ΅ μ»¨νΈλ΅¤λ¬ λ©”μ„λ“ νΈμ¶** β†’ **μ‘λ‹µ λ°ν™**

## π“ 4. κµ¬ν„ μμ‹

```typescript
// ParseIntPipe μμ‹
class ParseIntPipe implements PipeTransform {
  transform(value: string, metadata: ArgumentMetadata) {
    const val = parseInt(value, 10);
    if (isNaN(val)) {
      throw new Error(`${value}λ” μ«μλ΅ λ³€ν™ν•  μ μ—†μµλ‹λ‹¤.`);
    }
    return val;
  }
}

// μ»¨νΈλ΅¤λ¬μ—μ„ μ‚¬μ©
@Get(':id')
findOne(@Param('id', ParseIntPipe) id: number) {
  return this.usersService.findOne(id);
}
```